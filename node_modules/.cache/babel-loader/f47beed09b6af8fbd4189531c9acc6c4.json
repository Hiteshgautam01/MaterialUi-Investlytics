{"ast":null,"code":"import _objectSpread from \"/Users/precisely/Documents/investlytics-material-boilerplate/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _classCallCheck from \"/Users/precisely/Documents/investlytics-material-boilerplate/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/precisely/Documents/investlytics-material-boilerplate/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"/Users/precisely/Documents/investlytics-material-boilerplate/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/Users/precisely/Documents/investlytics-material-boilerplate/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/Users/precisely/Documents/investlytics-material-boilerplate/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"/Users/precisely/Documents/investlytics-material-boilerplate/src/containers/Topbar/topbarAddtoCart.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport IntlMessages from '../../components/utility/intlMessages';\nimport SingleCart from '../../components/cart/singleCartModal';\nimport Scrollbars from '../../components/utility/customScrollBar'; // import ecommerceAction from \"../../redux/ecommerce/actions\";\n\nimport { SidebarContent } from './sidebarNotification.style';\nvar totalPrice;\n\nvar TopbarAddtoCart = /*#__PURE__*/function (_Component) {\n  _inherits(TopbarAddtoCart, _Component);\n\n  var _super = _createSuper(TopbarAddtoCart);\n\n  function TopbarAddtoCart() {\n    var _this;\n\n    _classCallCheck(this, TopbarAddtoCart);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _this.renderProducts = function () {\n      var _this$props = _this.props,\n          productQuantity = _this$props.productQuantity,\n          products = _this$props.products;\n      totalPrice = 0;\n\n      if (!productQuantity || productQuantity.length === 0) {\n        return /*#__PURE__*/React.createElement(\"span\", {\n          className: \"noItemMsg\",\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 23,\n            columnNumber: 14\n          }\n        }, \"No item found\");\n      }\n\n      return productQuantity.map(function (product) {\n        totalPrice += product.quantity * products[product.objectID].price;\n        return /*#__PURE__*/React.createElement(SingleCart, Object.assign({\n          key: product.objectID,\n          quantity: product.quantity,\n          changeQuantity: _this.changeQuantity,\n          cancelQuantity: _this.cancelQuantity\n        }, products[product.objectID], {\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 28,\n            columnNumber: 9\n          }\n        }));\n      });\n    };\n\n    _this.changeQuantity = function (objectID, quantity) {\n      var productQuantity = _this.props.productQuantity;\n      var newProductQuantity = [];\n      productQuantity.forEach(function (product) {\n        if (product.objectID !== objectID) {\n          newProductQuantity.push(product);\n        } else {\n          newProductQuantity.push({\n            objectID: objectID,\n            quantity: quantity\n          });\n        }\n      });\n\n      _this.props.changeProductQuantity(newProductQuantity);\n    };\n\n    _this.cancelQuantity = function (objectID) {\n      var productQuantity = _this.props.productQuantity;\n      var newProductQuantity = [];\n      productQuantity.forEach(function (product) {\n        if (product.objectID !== objectID) {\n          newProductQuantity.push(product);\n        }\n      });\n\n      _this.props.changeProductQuantity(newProductQuantity);\n    };\n\n    return _this;\n  }\n\n  _createClass(TopbarAddtoCart, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this$props2 = this.props,\n          loadingInitData = _this$props2.loadingInitData,\n          initData = _this$props2.initData;\n\n      if (!loadingInitData) {\n        initData();\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props3 = this.props,\n          url = _this$props3.url,\n          height = _this$props3.height;\n      return /*#__PURE__*/React.createElement(SidebarContent, {\n        style: {\n          height: height - 65\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"dropdownBody cartItemsWrapper\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Scrollbars, {\n        style: {\n          height: '100%'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }\n      }, this.renderProducts())), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"dropdownFooterLinks\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Link, {\n        to: \"\".concat(url, \"/cart\"),\n        onClick: this.hide,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(IntlMessages, {\n        id: \"topbar.viewCart\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 13\n        }\n      })), /*#__PURE__*/React.createElement(\"h3\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(IntlMessages, {\n        id: \"topbar.totalPrice\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 13\n        }\n      }), \":\", ' ', /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 13\n        }\n      }, \"$\", totalPrice.toFixed(2)))));\n    }\n  }]);\n\n  return TopbarAddtoCart;\n}(Component);\n\nfunction mapStateToProps(state) {\n  return _objectSpread(_objectSpread(_objectSpread({\n    auth: state.Auth\n  }, state.App), state.Ecommerce), {}, {\n    customizedTheme: state.ThemeSwitcher.topbarTheme,\n    height: state.App.height\n  });\n}\n\nexport default connect(mapStateToProps // ecommerceAction\n)(TopbarAddtoCart);","map":{"version":3,"sources":["/Users/precisely/Documents/investlytics-material-boilerplate/src/containers/Topbar/topbarAddtoCart.js"],"names":["React","Component","Link","connect","IntlMessages","SingleCart","Scrollbars","SidebarContent","totalPrice","TopbarAddtoCart","renderProducts","props","productQuantity","products","length","map","product","quantity","objectID","price","changeQuantity","cancelQuantity","newProductQuantity","forEach","push","changeProductQuantity","loadingInitData","initData","url","height","hide","toFixed","mapStateToProps","state","auth","Auth","App","Ecommerce","customizedTheme","ThemeSwitcher","topbarTheme"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport IntlMessages from '../../components/utility/intlMessages';\nimport SingleCart from '../../components/cart/singleCartModal';\nimport Scrollbars from '../../components/utility/customScrollBar';\n// import ecommerceAction from \"../../redux/ecommerce/actions\";\nimport { SidebarContent } from './sidebarNotification.style';\n\nlet totalPrice;\nclass TopbarAddtoCart extends Component {\n  componentDidMount() {\n    const { loadingInitData, initData } = this.props;\n    if (!loadingInitData) {\n      initData();\n    }\n  }\n\n  renderProducts = () => {\n    const { productQuantity, products } = this.props;\n    totalPrice = 0;\n    if (!productQuantity || productQuantity.length === 0) {\n      return <span className=\"noItemMsg\">No item found</span>;\n    }\n    return productQuantity.map(product => {\n      totalPrice += product.quantity * products[product.objectID].price;\n      return (\n        <SingleCart\n          key={product.objectID}\n          quantity={product.quantity}\n          changeQuantity={this.changeQuantity}\n          cancelQuantity={this.cancelQuantity}\n          {...products[product.objectID]}\n        />\n      );\n    });\n  };\n  changeQuantity = (objectID, quantity) => {\n    const { productQuantity } = this.props;\n    const newProductQuantity = [];\n    productQuantity.forEach(product => {\n      if (product.objectID !== objectID) {\n        newProductQuantity.push(product);\n      } else {\n        newProductQuantity.push({\n          objectID,\n          quantity,\n        });\n      }\n    });\n    this.props.changeProductQuantity(newProductQuantity);\n  };\n  cancelQuantity = objectID => {\n    const { productQuantity } = this.props;\n    const newProductQuantity = [];\n    productQuantity.forEach(product => {\n      if (product.objectID !== objectID) {\n        newProductQuantity.push(product);\n      }\n    });\n    this.props.changeProductQuantity(newProductQuantity);\n  };\n  render() {\n    const { url, height } = this.props;\n    return (\n      <SidebarContent style={{ height: height - 65 }}>\n        <div className=\"dropdownBody cartItemsWrapper\">\n          <Scrollbars style={{ height: '100%' }}>\n            {this.renderProducts()}\n          </Scrollbars>\n        </div>\n        <div className=\"dropdownFooterLinks\">\n          <Link to={`${url}/cart`} onClick={this.hide}>\n            <IntlMessages id=\"topbar.viewCart\" />\n          </Link>\n\n          <h3>\n            <IntlMessages id=\"topbar.totalPrice\" />:{' '}\n            <span>${totalPrice.toFixed(2)}</span>\n          </h3>\n        </div>\n      </SidebarContent>\n    );\n  }\n}\nfunction mapStateToProps(state) {\n  return {\n    auth: state.Auth,\n    ...state.App,\n    ...state.Ecommerce,\n    customizedTheme: state.ThemeSwitcher.topbarTheme,\n    height: state.App.height,\n  };\n}\nexport default connect(\n  mapStateToProps\n  // ecommerceAction\n)(TopbarAddtoCart);\n"]},"metadata":{},"sourceType":"module"}